(function(t){function e(e){for(var s,i,r=e[0],l=e[1],c=e[2],d=0,f=[];d<r.length;d++)i=r[d],n[i]&&f.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},o=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),n=a.n(s);n.a},"0d1c":function(t,e,a){},"2e61":function(t,e,a){"use strict";var s=a("c976"),n=a.n(s);n.a},3169:function(t,e,a){"use strict";var s=a("b73a"),n=a.n(s);n.a},3678:function(t,e,a){},4078:function(t,e,a){},"40ae":function(t,e,a){"use strict";var s=a("c64a"),n=a.n(s);n.a},"42e9":function(t,e,a){},5515:function(t,e,a){"use strict";var s=a("4078"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=(a("034f"),a("2877")),r={},l=Object(i["a"])(r,n,o,!1,null,null,null),c=l.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"content"},[a("el-header",[a("ProcessHead")],1),a("el-main",[a("ProcessMain")],1),a("el-footer",[a("ProcessFoot")],1)],1)},f=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{span:1}},[s("img",{staticClass:"logoimg",attrs:{src:a("cf05")}})]),s("el-col",{attrs:{span:10}},[s("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#393d49","text-color":"#fff","active-text-color":"#ffd04b"}},[s("el-menu-item",{attrs:{index:"1"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.processName))])],1)],1),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-dropdown",{attrs:{trigger:"click"}},[s("span",{staticClass:"el-dropdown-link"},[t._v("\n          "+t._s(t.userName)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{nativeOn:{click:function(e){return t.logout(e)}}},[t._v("\n            退出\n          ")])],1)],1)],1)],1),s("el-dialog",{attrs:{title:"请选择工序",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择工序"},model:{value:t.selectId,callback:function(e){t.selectId=e},expression:"selectId"}},t._l(t.flowList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),s("el-dialog",{attrs:{title:"请扫入人员",visible:t.showUser,width:"30%"}},[s("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"100%"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setUser(e)}},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)],1)},m=[],b=(a("7f7f"),a("cebc")),h=a("2f62"),v={name:"process-head",data:function(){return{dialogVisible:!1,selectId:"",user:""}},directives:{focus:{inserted:function(t){var e=t.querySelector("input");e.focus()},update:function(t){var e=t.querySelector("input");e.focus()}}},computed:Object(b["a"])({processName:function(){var t=this,e=this.flowList.filter(function(e){return e.id==t.processId});return e.length>0?e[0].name:""},showUser:function(){return""==this.userName}},Object(h["c"])(["processId","userName","flowList"])),methods:Object(b["a"])({handleClose:function(t){this.processId&&0!=this.processId?t():this.$message("请选择工序")},setUser:function(){this.user&&this.setUserName(this.user)},logout:function(){this.setUserName("")}},Object(h["b"])(["setProcessID","setUserName"])),created:function(){this.processId&&0!=this.processId||(localStorage.getItem("processId")?this.setProcessID(parseInt(localStorage.getItem("processId"))):this.dialogVisible=!0),localStorage.getItem("userName")&&this.setUserName(localStorage.getItem("userName"))},watch:{selectId:function(t){this.setProcessID(t)},userName:function(t){this.user=""==t?"":this.user}}},y=v,g=(a("887c"),Object(i["a"])(y,p,m,!1,null,"e1719782",null)),_=g.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"footer"}},[a("el-button",{on:{click:t.backPrint}},[t._v("补打印")]),a("el-button",{attrs:{type:"primary"},on:{click:t.primary}},[t._v("一个按钮")]),a("el-button",{attrs:{type:"success"}},[t._v("成功按钮")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.setShowIntro(!0)}}},[t._v("信息按钮")]),a("el-button",{attrs:{type:"warning"},on:{click:t.logout}},[t._v("退出系统")]),a("el-button",{attrs:{type:"danger"},on:{click:t.repair}},[t._v("设备报修")])],1)},w=[],k={name:"process-foot",computed:Object(b["a"])({},Object(h["c"])(["facilityState"])),methods:Object(b["a"])({},Object(h["b"])(["setFacilityState","setUserName","setShowIntro"]),{backPrint:function(){var t=this;this.$prompt("请输入条码","补打印",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^bar/,inputErrorMessage:"条码以bar开头"}).then(function(e){var a=e.value;t.$message({type:"success",message:a+"已打印"})}).catch(function(){})},repair:function(){var t=this;this.$confirm("设备报修后将不能进行其他操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.setFacilityState("REPAIR"),t.$message({type:"success",message:"报修成功!"})}).catch(function(){})},logout:function(){this.setUserName("")},primary:function(){this.$message("还没想好啥功能")}}),created:function(){var t=localStorage.getItem("facilityState");console.log(t),t&&(this.setFacilityState(t),"REPAIR"==t&&this.$message("该设备处于报修状态"))},watch:{facilityState:function(t){t||(this.$message("已经修好了"),this.setFacilityState(""))}}},O=k,I=(a("40ae"),Object(i["a"])(O,S,w,!1,null,"761978d8",null)),T=I.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-row",[a("el-col",{staticStyle:{"padding-right":"5px"},attrs:{span:14}},[a("el-card",{staticClass:"task"},[a("ProcessTask")],1),a("el-card",{staticClass:"process"},[a("ProcessFlow")],1),a("el-card",{staticClass:"chart"},[a("ProcessChart")],1)],1),a("el-col",{attrs:{span:10}},[a("el-card",{staticClass:"material"},[a("ProcessMaterial")],1),a("el-card",{staticClass:"info"},[a("ProcessInfo")],1)],1)],1),a("ProcessRepair"),a("ProcessIntro")],1)},C=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{attrs:{placeholder:"请输入内容"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitBarcode(e)}},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}},[a("template",{slot:"prepend"},[t._v("条码")]),a("el-button",{staticClass:"btn_SelectTask",attrs:{slot:"append",type:"primary"},on:{click:t.showTask},slot:"append"},[t._v("选择计划")])],2),a("TaskList",{attrs:{tasks:t.tasks}}),a("TaskTable",{attrs:{dialogVisible:t.dialogVisible},on:{"update:dialogVisible":function(e){t.dialogVisible=e},"update:dialog-visible":function(e){t.dialogVisible=e},handelConfirm:t.selectTask}}),a("ProcessQCTest",{attrs:{showQC:t.showQC},on:{"update:showQC":function(e){t.showQC=e},"update:show-q-c":function(e){t.showQC=e},cancel:t.cancelTest}})],1)},j=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"计划",width:"80%",visible:t.show},on:{"update:visible":function(e){t.show=e},close:t.closeDialog}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handelSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"物料编码"}}),a("el-table-column",{attrs:{prop:"number",label:"物料名称"}}),a("el-table-column",{attrs:{prop:"model",label:"物料规格"}}),a("el-table-column",{attrs:{prop:"billno","show-overflow-tooltip":"",label:"条码"}}),a("el-table-column",{attrs:{prop:"qty",label:"数量"}}),a("el-table-column",{attrs:{prop:"finish",label:"已完成"}})],1),a("el-pagination",{attrs:{"page-size":7,layout:"total, prev, pager, next",total:25}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handelConfirm}},[t._v("确 定")])],1)],1)],1)},P=[],$={name:"TaskTable",props:["dialogVisible"],data:function(){return{tableData:[],show:this.dialogVisible,selectData:[]}},methods:Object(b["a"])({closeDialog:function(){this.$emit("update:dialogVisible",!1)},handelSelect:function(t){this.selectData=t},handelConfirm:function(){if(0==this.selectData.length)return this.$message("请至少选择一个计划"),!1;this.show=!1,this.$emit("handelConfirm",this.selectData)}},Object(h["b"])(["getTaskList"])),computed:{taskId:function(){this.selectData.map(function(t){return t.id})}},watch:{dialogVisible:function(){this.show=this.dialogVisible}},created:function(){var t=this;this.getTaskList().then(function(e){t.tableData=e.tableData})}},q=$,D=Object(i["a"])(q,N,P,!1,null,null,null),L=D.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"taskWrap"},t._l(t.tasks,function(e){return a("div",{key:e.id,staticClass:"task",on:{click:function(a){return t.setTaskID(e.id)}}},[a("div",{class:[{active:e.id==t.taskId},"title"]},[t._v("\n      计划单：\n      "),a("span",{},[t._v(t._s(e.billno))])]),a("div",{staticClass:"panel-body"},[a("ul",{},[a("li",{},[a("i",{staticClass:"el-icon-caret-right"}),t._v("产品编码:\n          "),a("strong",{attrs:{id:""}},[t._v(t._s(e.number))])]),a("li",{},[a("i",{staticClass:"el-icon-caret-right"}),t._v("产品名称:\n          "),a("strong",{attrs:{id:""}},[t._v(t._s(e.name))])]),a("li",{},[a("i",{staticClass:"el-icon-caret-right"}),t._v("产品规格:\n          "),a("strong",{attrs:{id:""}},[t._v(t._s(e.model))])]),a("li",{},[a("i",{staticClass:"el-icon-caret-right"}),t._v("计划数量:\n          "),a("strong",{attrs:{id:""}},[t._v(t._s(e.qty))])]),a("li",{},[a("i",{staticClass:"el-icon-caret-right"}),t._v("生产数量:\n          "),a("strong",[t._v(t._s(e.finish))])]),a("li",{},[a("el-progress",{attrs:{percentage:parseInt(e.finish/e.qty*100)}})],1),e.id==t.taskId?a("li",[a("el-button",{staticClass:"btn_print",attrs:{size:"small",type:"danger"},on:{click:t.printBarcode}},[t._v("打印")])],1):t._e()])])])}),0)},A=[],H={name:"TaskList",data:function(){return{}},props:["tasks"],computed:Object(b["a"])({},Object(h["c"])(["taskId"])),methods:Object(b["a"])({printBarcode:function(){var t=this;setTimeout(function(){t.$message("条码已打印！")},1e3)}},Object(h["b"])(["setTaskID"]))},M=H,R=(a("9441"),Object(i["a"])(M,F,A,!1,null,"31616682",null)),G=R.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"质检(测试时，5秒后和10秒后分别模拟设备回传信息)",width:"80%",visible:t.showQC,"close-on-press-escape":!1,"show-close":!1}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.qcTest,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"质检项目"}}),a("el-table-column",{attrs:{prop:"ismanual",label:"质检方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.ismanual?"手动填写":"设备回传"))]}}])}),a("el-table-column",{attrs:{prop:"type",label:"判断方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.type?"NG/OK":"大于0,小于10"))]}}])}),a("el-table-column",{attrs:{prop:"result",label:"质检结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ismanual?1==e.row.type?a("div",[a("el-radio-group",{model:{value:e.row.result,callback:function(a){t.$set(e.row,"result",a)},expression:"scope.row.result"}},[a("el-radio-button",{attrs:{label:"NG"}}),a("el-radio-button",{attrs:{label:"OK"}})],1)],1):a("div",[a("el-input",{attrs:{type:"number"},on:{change:t.qcMatch},model:{value:e.row.result,callback:function(a){t.$set(e.row,"result",a)},expression:"scope.row.result"}})],1):a("div",[t._v(t._s(e.row.result))])]}}])})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取消测试")])],1)],1)],1)},B=[],Q=a("5c96"),U=a.n(Q),W={name:"process_qctest",data:function(){return{show:!1,input:"",changed:!1,qcTest:[{name:"质检一",ismanual:!1,type:1,result:""},{name:"质检二",ismanual:!1,type:2,result:""},{name:"质检三",ismanual:!0,type:1,result:""},{name:"质检四",ismanual:!0,type:2,result:""}]}},computed:{},props:["showQC"],methods:{cancel:function(){var t=this;this.$confirm("确认取消测试？").then(function(e){t.$emit("cancel"),done()}).catch(function(t){})},qcMatch:function(){var t=this,e=this.qcTest.some(function(t){return""==t.result});if(!e){var a=this.qcTest.every(function(t){return 1==t.type?"OK"==t.result:t.result>=0&&t.result<=10});if(a){this.$message({message:"质检合格，等待设备放行",type:"success"});var s=Q["Loading"].service({lock:!0,text:"等待。。",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)"});setTimeout(function(){s.close(),t.$emit("update:showQC",!1)},2e3)}else this.$message({message:"质检不合格,请返修后重新检测",type:"error"}),this.$emit("update:showQC",!1)}}},watch:{showQC:function(t){var e=this;t&&(this.qcTest=[{name:"质检一",ismanual:!1,type:1,result:""},{name:"质检二",ismanual:!1,type:2,result:""},{name:"质检三",ismanual:!0,type:1,result:""},{name:"质检四",ismanual:!0,type:2,result:""}],setTimeout(function(){var t=Math.random()>.3?"OK":"NG";e.qcTest.splice(0,1,{name:"质检一",ismanual:!1,type:1,result:t})},5e3),setTimeout(function(){var t=parseInt(15*Math.random());e.qcTest.splice(1,1,{name:"质检二",ismanual:!1,type:2,result:t})},1e4))},qcTest:{handler:function(t,e){console.log(t[3].result,e[3].result),t[3].result==e[3].result&&this.qcMatch()},deep:!0}}},z=W,K=Object(i["a"])(z,V,B,!1,null,null,null),Y=K.exports,J=(a("3022"),{name:"ProcessTask",data:function(){return{dialogVisible:!1,tasks:[],barcode:"",showQC:!1}},components:{TaskTable:L,TaskList:G,ProcessQCTest:Y},computed:Object(b["a"])({},Object(h["c"])(["taskId","processId"])),methods:Object(b["a"])({showTask:function(){this.dialogVisible=!0},selectTask:function(t){this.tasks=t},submitBarcode:function(){if(0==this.taskId)return this.$message("请选择好计划"),this.barcode="",!1;if(0!=this.barcode.indexOf("bar"))return this.$message("条码需要已bar开头"),this.barcode="",!1;var t=this.barcode[this.barcode.length-1];return isNaN(t)?(this.$message("条码格式不正确"),this.barcode="",!1):(console.log(t+0),t+0!=this.processId?(this.$message("条码正处于".concat(t+0,"工序")),this.barcode="",!1):(this.scanBarcode(this.barcode),this.showQC=!0,void(this.barcode="")))},cancelTest:function(){this.showQC=!1}},Object(h["b"])(["scanBarcode"]))}),X=J,Z=Object(i["a"])(X,E,j,!1,null,"7e8fd6c2",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"flowwrap"}},[a("ul",{style:{width:t.width+"px"},attrs:{id:"flow"}},[t._l(t.flowList,function(e,s){return[a("li",{class:t.liClass(e.id)},[a("div",[a("span",[t._v(t._s(e.id))])]),a("div",[t._v(t._s(e.name))])]),s<t.flowList.length-1?a("li",{staticClass:"arrow"},[t._m(0,!0)]):t._e()]})],2)])])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"padding-left":"8px"}},[a("i",{staticClass:"move ar-animated ar-delay-4s iconfont icon-arrow-right"}),a("i",{staticClass:"move ar-animated ar-delay-3s iconfont icon-arrow-right"}),a("i",{staticClass:"move ar-animated ar-delay-2s iconfont icon-arrow-right"}),a("i",{staticClass:"move ar-animated ar-delay-1s iconfont icon-arrow-right"}),a("i",{staticClass:"move ar-animated iconfont icon-arrow-right"})])}],st={name:"ProcessFlow",computed:Object(b["a"])({width:function(){return 160*this.flowList.length}},Object(h["c"])(["flowList"])),methods:Object(b["a"])({liClass:function(t){return this.$store.state.processId==t?"current":this.$store.state.processId<t?"next":void 0}},Object(h["b"])(["getFlowList"])),mounted:function(){var t=document.getElementById("flowwrap");t.onwheel=function(t){t.preventDefault();var e=50;t.deltaY<0?this.scrollLeft-=e:this.scrollLeft+=e}},created:function(){this.getFlowList()}},nt=st,ot=(a("b756"),Object(i["a"])(nt,et,at,!1,null,"3e69846e",null)),it=ot.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chart"}})},lt=[],ct={name:"ProcessChart",mounted:function(){this.getChart()},methods:{getChart:function(){var t={animation:!1,backgroundColor:"#404A59",title:[{text:"每小时产量",left:"1%",top:"1%",textStyle:{color:"#ffd285"}},{text:"条码状态",left:"83%",top:"1%",textAlign:"center",textStyle:{color:"#ffd285"}}],tooltip:{trigger:"axis"},label:{normal:{show:!0,color:"#fff"}},grid:{left:"1%",right:"35%",top:"16%",bottom:"6%",containLabel:!0},toolbox:{show:!1},xAxis:{type:"category",axisLine:{lineStyle:{color:"#c0576d"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#ffd285"}},boundaryGap:!1,data:["8:00","9:00","10:00","11:00","12:00","13:00","14:00"]},yAxis:{axisLine:{lineStyle:{color:"#c0576d"}},splitLine:{show:!0,lineStyle:{color:"#c0576d"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#ffd285"}},type:"value"},series:[{name:"条码",smooth:!0,type:"line",symbolSize:8,symbol:"circle",data:[12,25,39,30,26,50,20]},{type:"pie",center:["83%","50%"],radius:["33%","43%"],name:"饼图",label:{color:"#ffd285",formatter:"{b}: {c}"},labelLine:{length2:0},data:[{value:45,name:"通过条码",itemStyle:{normal:{color:"#ADFF2F"}}},{value:9,name:"返修条码",itemStyle:{normal:{color:"#FF0000"}}},{value:3,name:"其他条码",itemStyle:{normal:{color:"#FFFF00"}}}]}]},e=this.$echarts.init(document.getElementById("chart"));e.setOption(t),window.onresize=function(){e.resize()}}}},ut=ct,dt=(a("3169"),Object(i["a"])(ut,rt,lt,!1,null,"ea87493e",null)),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"扫描明细"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.scanHistory,border:""}},[a("el-table-column",{attrs:{prop:"barcode",label:"条码"}}),a("el-table-column",{attrs:{prop:"datetime",label:"扫描时间",formatter:t.formatterTime}})],1)],1),a("el-tab-pane",{attrs:{label:"绑定物料"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"物料编码"}}),a("el-table-column",{attrs:{prop:"number",label:"物料名称"}}),a("el-table-column",{attrs:{prop:"model",label:"物料规格"}}),a("el-table-column",{attrs:{prop:"barcode","show-overflow-tooltip":"",label:"条码"}}),a("el-table-column",{attrs:{prop:"qty",label:"数量"}})],1)],1),a("el-tab-pane",{attrs:{label:"质检信息"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"物料编码"}}),a("el-table-column",{attrs:{prop:"number",label:"物料名称"}}),a("el-table-column",{attrs:{prop:"model",label:"物料规格"}}),a("el-table-column",{attrs:{prop:"barcode","show-overflow-tooltip":"",label:"条码"}}),a("el-table-column",{attrs:{prop:"qty",label:"数量"}})],1)],1)],1)],1)},mt=[],bt={name:"ProcessInfo",data:function(){return{tableData:[{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999},{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999},{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999},{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999}]}},methods:{formatterTime:function(t,e){var a=new Date(t.datetime),s=a.getHours()<=9?"0"+a.getHours():a.getHours(),n=a.getMinutes()<=9?"0"+a.getMinutes():a.getMinutes(),o=a.getSeconds()<=9?"0"+a.getSeconds():a.getSeconds();return s+":"+n+":"+o}},computed:Object(b["a"])({},Object(h["c"])(["scanHistory"]))},ht=bt,vt=Object(i["a"])(ht,pt,mt,!1,null,"4f80209e",null),yt=vt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[a("span",{staticClass:"info"},[t._v("本机台绑定信息")]),a("div",{staticStyle:{float:"right"}},[t.showInput?a("el-input",{staticClass:"material_input",attrs:{size:"small"},on:{blur:function(e){t.showInput=!1}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}}):t._e(),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.showInput=!t.showInput,t.barcode=""}}},[t._v("投料")])],1),a("div",{staticClass:"clear"})]),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"物料编码"}}),a("el-table-column",{attrs:{prop:"number",label:"物料名称"}}),a("el-table-column",{attrs:{prop:"model",label:"物料规格"}}),a("el-table-column",{attrs:{prop:"barcode","show-overflow-tooltip":"",label:"条码",width:"200"}}),a("el-table-column",{attrs:{prop:"qty",label:"数量"}})],1)],1)},_t=[],St={name:"ProcessMaterial",data:function(){return{showInput:!1,barcode:"",tableData:[{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999},{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999},{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999},{number:"GS270",name:"钢丝270",model:"301",barcode:"SHN1905210000165",qty:999}]}},watch:{showInput:function(t){t&&this.$nextTick(function(){var t=document.querySelector(".material_input"),e=t.querySelector("input");e.focus()})}},methods:{submit:function(){this.$message("投料成功"),this.barcode=""}}},wt=St,kt=(a("963e"),Object(i["a"])(wt,gt,_t,!1,null,"efce18c4",null)),Ot=kt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{width:"60%",visible:"REPAIR"==t.facilityState,"show-close":!1}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("\n      设备报修中"),a("i",{staticClass:"el-icon-loading"})]),a("div",{staticClass:"content"},[a("vue-qr",{attrs:{text:t.barcode,size:400,bgSrc:t.logo}}),a("div",[a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(e){return t.setFacilityState("")}}},[t._v("维修完成")])],1)],1)])],1)},Tt=[],xt=(a("6b54"),a("658f")),Ct=a.n(xt),Et=a("cf05"),jt=a.n(Et),Nt={name:"process_repair",data:function(){return{logo:jt.a}},components:{VueQr:Ct.a},methods:Object(b["a"])({},Object(h["b"])(["setFacilityState"])),computed:Object(b["a"])({barcode:function(){return"Rep"+Math.random().toString(32).substr(2).toUpperCase()}},Object(h["c"])(["facilityState"])),watch:{facilityState:function(t){}}},Pt=Nt,$t=(a("754c"),Object(i["a"])(Pt,It,Tt,!1,null,"5ce76370",null)),qt=$t.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.showIntro,width:"40%","before-close":t.close}},[a("div",{staticStyle:{color:"cornflowerblue"},attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-chat-line-square"}),t._v("说明\n      ")]),a("el-row",[a("el-col",{staticClass:"intro",attrs:{span:14}},[a("p",[t._v("\n              练手向作品，项目直接用vue-cli创建，直接vue全家桶。简单的模拟了流水线上的操作。\n          ")]),a("p",[t._v("\n              项目结合了公司做的系统，做了个简单的样例，是纯前端的页面，不含后端，\n              不过用axios获取本地的json来模拟了一下后端获取数据，如果直接打开页面的话会有跨域的报错~\n          ")]),a("p",[t._v("\n              其他的话还用localstorage模拟储存了数据。总之还是比较简单的~\n          ")])]),a("el-col",{attrs:{span:5}},[a("h2",[t._v("技术栈")]),a("ul",[a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("vue\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("element-ui\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("vuex\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("vue-router\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("axios\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("echarts\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("vue-qr\n          ")])])]),a("el-col",{attrs:{span:5}},[a("h2",[t._v("操作说明")]),a("ul",[a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("选择工序\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("登录操作员\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("选择计划\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("打印/补打印\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("投料\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("扫入条码\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("质检\n          ")]),a("li",[a("input",{attrs:{type:"checkbox",checked:"",disabled:""}}),t._v("设备报修\n          ")])])])],1)],1)],1)},Lt=[],Ft={name:"process_intro",computed:Object(b["a"])({},Object(h["c"])(["showIntro"])),methods:Object(b["a"])({close:function(){this.setShowIntro(!1)}},Object(h["b"])(["setShowIntro"]))},At=Ft,Ht=(a("2e61"),Object(i["a"])(At,Dt,Lt,!1,null,"ac5444e2",null)),Mt=Ht.exports,Rt={name:"ProcessMain",components:{ProcessTask:tt,ProcessFlow:it,ProcessChart:ft,ProcessInfo:yt,ProcessMaterial:Ot,ProcessRepair:qt,ProcessIntro:Mt}},Gt=Rt,Vt=(a("5515"),Object(i["a"])(Gt,x,C,!1,null,"02d17a46",null)),Bt=Vt.exports,Qt={name:"home",components:{ProcessHead:_,ProcessFoot:T,ProcessMain:Bt}},Ut=Qt,Wt=(a("b7fb"),Object(i["a"])(Ut,d,f,!1,null,"633c8bcb",null)),zt=Wt.exports;s["default"].use(u["a"]);var Kt,Yt=new u["a"]({routes:[{path:"/",name:"home",component:zt}]}),Jt=a("bd86"),Xt=a("bc3a"),Zt=a.n(Xt),te=function(){return new Promise(function(t,e){Zt.a.get("../data/task.json").then(function(e){t(e.data)}).catch(function(t){console.log(t),e(t)})})},ee=function(){return new Promise(function(t,e){Zt.a.get("../data/flow.json").then(function(e){t(e.data)}).catch(function(t){console.log(t),e(t)})})};s["default"].use(h["a"]);var ae={tableData:[{number:"GS270",name:"钢丝270",model:"301",billno:"SHN5",qty:299,finish:89,id:1},{number:"GS270",name:"钢丝270",model:"301",billno:"SH0000165",qty:199,finish:99,id:2},{number:"GS270",name:"钢丝270",model:"301",billno:"SH000165",qty:939,finish:399,id:3},{number:"GS270",name:"钢丝270",model:"301",billno:"SHN1905210",qty:10,finish:8,id:4},{number:"GS270",name:"钢丝270",model:"301",billno:"SH19052165",qty:99,finish:12,id:5},{number:"GS270",name:"钢丝270",model:"301",billno:"SHN1900165",qty:89,finish:0,id:6},{number:"GS270",name:"钢丝270",model:"301",billno:"SHN19055",qty:999,finish:0,id:7}]},se={list:[{name:"第一道工序",id:10},{name:"第二道工序",id:20},{name:"第三道工序",id:30},{name:"第四道工序",id:40},{name:"第五道工序",id:50},{name:"第六道工序",id:60},{name:"第七道工序",id:70},{name:"第八道工序",id:80},{name:"第九道工序",id:90},{name:"第十道工序",id:100}]},ne={SCAN_BARCODE:"SCAN_BARCODE",SET_TASK_ID:"SET_TASK_ID",SET_PROCESS_ID:"SET_PROCESS_ID",SET_FACILITY_STATE:"SET_FACILITY_STATE",SET_USER_NAME:"SET_USER_NAME",SET_FLOW:"SET_FLOW",SET_SHOWINTRO:"SET_SHOWINTRO"},oe={scanHistory:[],taskId:0,processId:0,facilityState:"",userName:"",flowList:[],showIntro:!1},ie={scanHistory:function(t){return t.scanHistory.slice(0,5)},taskId:function(t){return t.taskId},processId:function(t){return t.processId},facilityState:function(t){return t.facilityState},userName:function(t){return t.userName},flowList:function(t){return t.flowList},showIntro:function(t){return t.showIntro}},re=(Kt={},Object(Jt["a"])(Kt,ne.SCAN_BARCODE,function(t,e){t.scanHistory.unshift({barcode:e,datetime:new Date})}),Object(Jt["a"])(Kt,ne.SET_TASK_ID,function(t,e){t.taskId=e}),Object(Jt["a"])(Kt,ne.SET_PROCESS_ID,function(t,e){localStorage.setItem("processId",e),t.processId=e}),Object(Jt["a"])(Kt,ne.SET_FACILITY_STATE,function(t,e){localStorage.setItem("facilityState",e),t.facilityState=e}),Object(Jt["a"])(Kt,ne.SET_USER_NAME,function(t,e){localStorage.setItem("userName",e),t.userName=e}),Object(Jt["a"])(Kt,ne.SET_FLOW,function(t,e){t.flowList=e}),Object(Jt["a"])(Kt,ne.SET_SHOWINTRO,function(t,e){t.showIntro=e}),Kt),le={scanBarcode:function(t,e){var a=t.commit;a(ne.SCAN_BARCODE,e)},setTaskID:function(t,e){var a=t.commit;a(ne.SET_TASK_ID,e)},setProcessID:function(t,e){var a=t.commit;a(ne.SET_PROCESS_ID,e)},setFacilityState:function(t,e){var a=t.commit;a(ne.SET_FACILITY_STATE,e)},setUserName:function(t,e){var a=t.commit;a(ne.SET_USER_NAME,e)},getTaskList:function(t){t.commit;return te().catch(function(t){return Q["Message"].error(t.toString()),ae})},getFlowList:function(t){var e=t.commit;ee().then(function(t){e(ne.SET_FLOW,t.list)}).catch(function(t){Q["Message"].error(t.toString()),console.log(se),e(ne.SET_FLOW,se.list)})},setShowIntro:function(t,e){var a=t.commit;a(ne.SET_SHOWINTRO,e)}},ce=new h["a"].Store({state:oe,getters:ie,mutations:re,actions:le}),ue=(a("0fae"),a("f5df"),a("313e")),de=a.n(ue);s["default"].use(U.a),s["default"].config.productionTip=!1,s["default"].prototype.$axios=Zt.a,s["default"].prototype.$echarts=de.a,new s["default"]({router:Yt,store:ce,render:function(t){return t(c)}}).$mount("#app")},"754c":function(t,e,a){"use strict";var s=a("42e9"),n=a.n(s);n.a},"85ec":function(t,e,a){},"887c":function(t,e,a){"use strict";var s=a("3678"),n=a.n(s);n.a},9441:function(t,e,a){"use strict";var s=a("9935"),n=a.n(s);n.a},"963e":function(t,e,a){"use strict";var s=a("acc1"),n=a.n(s);n.a},9935:function(t,e,a){},acc1:function(t,e,a){},b73a:function(t,e,a){},b756:function(t,e,a){"use strict";var s=a("0d1c"),n=a.n(s);n.a},b7fb:function(t,e,a){"use strict";var s=a("db1e"),n=a.n(s);n.a},c64a:function(t,e,a){},c976:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.afc1d446.png"},db1e:function(t,e,a){}});
//# sourceMappingURL=app.67b06ce9.js.map